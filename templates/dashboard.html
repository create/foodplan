{% extends "base_layout.html" %}
{% block page_content %}
<!-- Main component for a primary marketing message or call to action -->
<h1>Dashboard</h1>
<h4>This is your weekly plan!</h4>
    <div class="container-fluid">
        <div class="row">
            {% for recipe in recipes %}
                <div class="col-md-4">
                    <div class="meal-card">
                        <div class="meal-card-image card-{{ recipe.day_no }}" style="background-image: url('{{ recipe.image_url }}');">
                            <div class="meal-card-filter">
                                <span class="meal-card-day card-{{ recipe.day_no }}">{{ recipe.day }}</span>
                                <span class="meal-card-name card-{{ recipe.day_no }}">{{ recipe.name }}</span>
                                <span class="meal-card-price card-{{ recipe.day_no }}" id="pricetag">{{ recipe.price }}$</span>
                                <button class="btn btn-success save"><span class="glyphicon glyphicon-heart-empty"></span></button>
                                <button class="btn btn-danger reroll reroll-{{ recipe.day_no }}" day_no="{{ recipe.day_no }}"><span class="glyphicon glyphicon-refresh"></span></button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div><!-- /container-fluid -->

{% endblock %}
{% block extrascript %}

<script type="text/javascript" charset="utf-8">
$(document).ready(function() {
    var fadeOut = function () {
        $(this).find(".meal-card-filter").css({"background": "linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0) 60%)"});
        $(this).find(".meal-card-price").fadeOut(600);
    };
    $(".meal-card").hover(function () {
        $(this).find(".meal-card-filter").animate({"background-color": "rgba(0,0,0,0.4)"}, 400);
        $(this).find(".meal-card-price").stop().fadeIn(100);
        var others = $(".meal-card");
        $(others).find(".meal-card-filter").css({"background": "linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0) 60%)"});
        $(others).find(".meal-card-price").fadeOut(600);
    }, fadeOut);
});
</script>

{% endblock %}
{% block totalprice %}
<span id="totalprice">{{total_price}}$</span>
{% endblock %}
