{% extends "base_layout.html" %}
{% block custom_css %}
<style>
h1 {
    margin-top: 0;
    margin-bottom: 30px;
}
</style>
{% endblock %}
{% block page_content %}
<!-- Main component for a primary marketing message or call to action -->
<h1>Cook these for dinner this week.</h1>
    <div class="container-fluid">
        <div class="row">
            {% for recipe in recipes %}
                <div class="col-md-4">
                    <div class="meal-card">
                        <div class="meal-card-image card-{{ recipe.day_no }}" style="background-image: url('{{ recipe.image_url }}');">
                            <div class="meal-card-filter">
                                <span class="meal-card-day card-{{ recipe.day_no }}">{{ recipe.day }}</span>
                                <span class="meal-card-name card-{{ recipe.day_no }}">{{ recipe.name }}</span>
                                <span class="meal-card-price card-{{ recipe.day_no }}" id="pricetag">$<span class="num">{{ recipe.price }}</span></span>
                                <button class="btn btn-success save"><span class="glyphicon glyphicon-heart-empty"></span></button>
                                <button title="Try something else" class="btn btn-danger reroll reroll-{{ recipe.day_no }}" day_no="{{ recipe.day_no }}"><span class="glyphicon glyphicon-refresh"></span></button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div><!-- /container-fluid -->

{% endblock %}
{% block extrascript %}

<script type="text/javascript" charset="utf-8">
$(document).ready(function() {
    $(".meal-card").mouseenter(function () {
        $(this).find(".meal-card-filter").animate({"background-color": "rgba(0,0,0,0.4)"}, 400);
        $(this).find(".meal-card-price").stop().fadeIn(100);
    }).mouseleave(function () {
        $(this).find(".meal-card-filter").stop().css({"background": "linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0) 60%)"});
        $(this).find(".meal-card-price").fadeOut(600);
    });
});
</script>

{% endblock %}
{% block totalprice %}
<span id="totalprice"><span id="totalprice-label">Weekly total:</span> {{total_price}}$</span>
{% endblock %}
